<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>值日生</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;

        background: linear-gradient(
          90deg,
          rgba(214, 180, 224, 1) 0%,
          rgba(107, 223, 227, 1) 50%,
          rgba(202, 242, 141, 1) 100%
        );
        color: #fff;
        padding: 20px;
      }

      .container {
        background: transparent;
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        text-align: center;
        max-width: 500px;
        width: 100%;
      }

      h1 {
        margin-bottom: 30px;
        font-weight: 600;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .name-display {
        font-size: 3rem;
        font-weight: bold;
        margin: 30px 0;
        min-height: 80px;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: all 0.5s ease;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin: 25px 0;
      }

      .names-list {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
      }

      .names-list h3 {
        margin-bottom: 15px;
      }

      .names-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
      }

      .name-tag {
        padding: 8px 15px;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 50px;
        font-size: 0.9rem;
      }

      .current {
        background: rgba(255, 255, 255, 0.3);
        font-weight: bold;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-in {
        animation: fadeIn 0.5s ease forwards;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>今天的值日生是</h1>

      <div class="name-display" id="current-name">加载中...</div>

      <div class="names-list">
        <h3>所有值日生</h3>
        <div class="names-container" id="names-container"></div>
      </div>
    </div>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // 名字列表
      const names = ["淑君", "小丁", "伟婷", "露露"];

      // 获取DOM元素
      const currentNameElement = document.getElementById("current-name");

      const namesContainer = document.getElementById("names-container");

      // 初始化名字标签
      names.forEach((name, index) => {
        const nameTag = document.createElement("div");
        nameTag.className = "name-tag";
        nameTag.textContent = name;
        nameTag.dataset.index = index;
        nameTag.style.border = "1px solid #FFF";
        nameTag.style.color = "#FFF";
        namesContainer.appendChild(nameTag);
      });

      // 从localStorage获取当前索引或初始化为0
      let currentIndex = 0;

      // 更新显示的名字
      function updateDisplay() {
        currentNameElement.textContent = names[currentIndex];
        currentNameElement.classList.remove("fade-in");
        void currentNameElement.offsetWidth;
        currentNameElement.classList.add("fade-in");

        // 更新名字标签的高亮
        document.querySelectorAll(".name-tag").forEach((tag, index) => {
          if (index === currentIndex) {
            tag.classList.add("current");
          } else {
            tag.classList.remove("current");
          }
        });
      }

      // 初始化显示
      updateDisplay();

      // 设置初始时间为2025年9月11日0点0分0秒
      const baseTime = new Date(2025, 8, 10, 0, 0, 0);

      function checkAndUpdate() {
        const now = new Date();

        const daysDiff = Math.floor((now - baseTime) / (1000 * 60 * 60 * 24));

        // 确保天数差在有效范围内
        if (daysDiff >= 0 && daysDiff < 100) {
          // 计算应该显示的索引
          const targetIndex = daysDiff % names.length;
          if (targetIndex !== currentIndex) {
            currentIndex = targetIndex;
            updateDisplay();
          }
        }
      }

      // 每分钟检查一次
      setInterval(checkAndUpdate, 60000);
      // 立即检查一次
      checkAndUpdate();
    });
  </script>
</html>
